<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Lobster  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>


    <a title="Lobster  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
          Lobster 2.2 Docs
        </a>
         (61% documented)
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/sgr-ksmt/Lobster">
            <img class="header-icon" src="img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html">Lobster Reference</a>
      <img class="carat" src="img/carat.png" />
      Lobster  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Lobster.html">Lobster</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Lobster.html">Lobster</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Config%20Key.html">Config Key</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Config%20Key.html#/s:7Lobster9ConfigKeyC">ConfigKey</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Config%20Key.html#/s:7Lobster10ConfigKeysC">ConfigKeys</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Store.html">Store</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/DefaultsStore.html">DefaultsStore</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="ConfigSerializable.html">ConfigSerializable</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/ConfigSerializable.html">ConfigSerializable</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="ConfigSerializable%20Extensions.html">ConfigSerializable Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/String.html">String</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Int.html">Int</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Double.html">Double</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Float.html">Float</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Data.html">Data</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/URL.html">URL</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Config%20Bridges.html">Config Bridges</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Config%20Bridges.html#/s:7Lobster12ConfigBridgeC">ConfigBridge</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Config%20Bridges.html#/s:7Lobster18ConfigStringBridgeC">ConfigStringBridge</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Config%20Bridges.html#/s:7Lobster15ConfigIntBridgeC">ConfigIntBridge</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Config%20Bridges.html#/s:7Lobster18ConfigDoubleBridgeC">ConfigDoubleBridge</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Config%20Bridges.html#/s:7Lobster17ConfigFloatBridgeC">ConfigFloatBridge</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Config%20Bridges.html#/s:7Lobster16ConfigBoolBridgeC">ConfigBoolBridge</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Config%20Bridges.html#/s:7Lobster16ConfigDataBridgeC">ConfigDataBridge</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Config%20Bridges.html#/s:7Lobster15ConfigURLBridgeC">ConfigURLBridge</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Config%20Bridges.html#/s:7Lobster17ConfigColorBridgeC">ConfigColorBridge</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Config%20Bridges.html#/s:7Lobster28ConfigRawRepresentableBridgeC">ConfigRawRepresentableBridge</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Config%20Bridges.html#/s:7Lobster21ConfigDecodableBridgeC">ConfigDecodableBridge</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Config%20Bridges.html#/s:7Lobster19ConfigCodableBridgeC">ConfigCodableBridge</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Config%20Bridges.html#/s:7Lobster17ConfigArrayBridgeC">ConfigArrayBridge</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Config%20Bridges.html#/s:7Lobster33ConfigRawRepresentableArrayBridgeC">ConfigRawRepresentableArrayBridge</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Other%20Extensions.html">Other Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Array.html">Array</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Bool.html">Bool</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Optional.html">Optional</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/UIColor.html">UIColor</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Other%20Protocols.html">Other Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/StaleValueStore.html">StaleValueStore</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            
            <h1 id='lobster' class='heading'>Lobster</h1>

<p>Type-safe Firebase-RemoteConfig helper library</p>

<p><a href="https://github.com/sgr-ksmt/Lobster/releases"><img src="https://img.shields.io/github/release/sgr-ksmt/Lobster.svg" alt="GitHub release"></a>
<img src="https://img.shields.io/badge/language-Swift%205.0-orange.svg" alt="Language">
<a href="https://github.com/Carthage/Carthage"><img src="https://img.shields.io/badge/Carthage-compatible-4BC51D.svg?style=flat" alt="Carthage Compatible"></a>
<a href="https://cocoapods.org/pods/Lobster"><img src="https://img.shields.io/badge/Cocoa%20Pods-%E2%9C%93-4BC51D.svg?style=flat" alt="CocoaPods"></a>
<a href="https://cocoapods.org/pods/Lobster"><img src="https://img.shields.io/cocoapods/dt/Lobster.svg" alt="CocoaPodsDL"></a></p>
<h2 id='feature' class='heading'>Feature</h2>

<ul>
<li>Make config value <strong>type safe.</strong> ✨</li>
<li>Easy to set default value by key-value subscripting.</li>
<li>Custom type available ✨

<ul>
<li><code>String</code>/<code>Int</code> enum</li>
<li><code>Decodable</code>(read-only) and <code>Codable</code>.</li>
</ul></li>
</ul>

<p><strong>There&rsquo;s only three steps to using Lobster:</strong></p>

<ul>
<li>Define <code><a href="Config%20Key.html#/s:7Lobster9ConfigKeyC">ConfigKey</a></code></li>
</ul>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">ConfigKeys</span> <span class="p">{</span>
    <span class="kd">static</span> <span class="k">let</span> <span class="nv">welcomeTitle</span> <span class="o">=</span> <span class="kt">ConfigKey</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"welcome_title"</span><span class="p">)</span>
    <span class="kd">static</span> <span class="k">let</span> <span class="nv">welcomeTitleColor</span> <span class="o">=</span> <span class="kt">ConfigKey</span><span class="o">&lt;</span><span class="kt">UIColor</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"welcome_title_color"</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>

<ul>
<li>Define value in Firebase project</li>
</ul>

<p><img src="docs/img1.png" alt=""></p>

<ul>
<li>Just use it!</li>
</ul>
<pre class="highlight swift"><code><span class="c1">// Set default value</span>
<span class="kt">Lobster</span><span class="o">.</span><span class="n">shared</span><span class="p">[</span><span class="k">default</span><span class="p">:</span> <span class="o">.</span><span class="n">welcomeTitle</span><span class="p">]</span> <span class="o">=</span> <span class="s">"Welcome"</span>
<span class="kt">Lobster</span><span class="o">.</span><span class="n">shared</span><span class="p">[</span><span class="k">default</span><span class="p">:</span> <span class="o">.</span><span class="n">welcomeTitleColor</span><span class="p">]</span> <span class="o">=</span> <span class="o">.</span><span class="n">black</span>
<span class="k">self</span><span class="o">.</span><span class="n">titleLabel</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="kt">Lobster</span><span class="o">.</span><span class="n">shared</span><span class="p">[</span><span class="o">.</span><span class="n">welcomeTitle</span><span class="p">]</span>

<span class="c1">// Fetch remote-config</span>
<span class="kt">Lobster</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">fetch</span> <span class="p">{</span> <span class="p">[</span><span class="k">weak</span> <span class="k">self</span><span class="p">]</span> <span class="n">_</span> <span class="k">in</span>
    <span class="k">self</span><span class="p">?</span><span class="o">.</span><span class="n">titleLabel</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="kt">Lobster</span><span class="o">.</span><span class="n">shared</span><span class="p">[</span><span class="o">.</span><span class="n">welcomeTitle</span><span class="p">]</span>
    <span class="k">self</span><span class="p">?</span><span class="o">.</span><span class="n">titleLabel</span><span class="o">.</span><span class="n">textColor</span> <span class="o">=</span> <span class="kt">Lobster</span><span class="o">.</span><span class="n">shared</span><span class="p">[</span><span class="o">.</span><span class="n">welcomeTitleColor</span><span class="p">]</span>
<span class="p">}</span>
</code></pre>

<p>You can get Type-Safed value through subscripting syntax<code>([])</code> by defining <code><a href="Config%20Key.html#/s:7Lobster9ConfigKeyC">ConfigKey</a></code>.</p>
<h2 id='how-to-use' class='heading'>How to use</h2>
<h3 id='fetch-latest-value-from-remote' class='heading'>Fetch latest value from remote.</h3>
<pre class="highlight swift"><code><span class="kt">Lobster</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">fetch</span> <span class="p">{</span> <span class="p">[</span><span class="k">weak</span> <span class="k">self</span><span class="p">]</span> <span class="n">error</span> <span class="k">in</span>
    <span class="k">if</span> <span class="k">let</span> <span class="nv">error</span> <span class="o">=</span> <span class="n">error</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">self</span><span class="p">?</span><span class="o">.</span><span class="n">titleLabel</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="kt">Lobster</span><span class="o">.</span><span class="n">shared</span><span class="p">[</span><span class="o">.</span><span class="n">titleText</span><span class="p">]</span>
<span class="p">}</span>
</code></pre>
<h3 id='get-value' class='heading'>Get value</h3>

<p>Use subscripting syntax.</p>

<ul>
<li>Non-Optional</li>
</ul>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">ConfigKeys</span> <span class="p">{</span>
    <span class="kd">static</span> <span class="k">let</span> <span class="nv">text</span> <span class="o">=</span> <span class="kt">ConfigKey</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"text"</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// Get value from config.</span>
<span class="c1">// If value didn't fetch from remote yet. returns default value (if exists).</span>
<span class="k">let</span> <span class="nv">text</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="kt">Lobster</span><span class="o">.</span><span class="n">shared</span><span class="p">[</span><span class="o">.</span><span class="n">text</span><span class="p">]</span>

<span class="c1">// Get value from only config.</span>
<span class="c1">// it is possible to crash if value didn't fetch from remote yet.</span>
<span class="k">let</span> <span class="nv">text</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="kt">Lobster</span><span class="o">.</span><span class="n">shared</span><span class="p">[</span><span class="nv">config</span><span class="p">:</span> <span class="o">.</span><span class="n">text</span><span class="p">]</span>

<span class="c1">// Get value from only default.</span>
<span class="c1">// It is possible to crash if the default value is not set yet.</span>
<span class="k">let</span> <span class="nv">text</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="kt">Lobster</span><span class="o">.</span><span class="n">shared</span><span class="p">[</span><span class="k">default</span><span class="p">:</span> <span class="o">.</span><span class="n">text</span><span class="p">]</span>

<span class="c1">// [safe:], [safeConfig:], [safeDefault:] subscripting syntax.</span>
<span class="c1">// It is safe because they return nil if they have no value.(return type is `Optional&lt;T&gt;`.)</span>
<span class="k">let</span> <span class="nv">text</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span> <span class="o">=</span> <span class="kt">Lobster</span><span class="o">.</span><span class="n">shared</span><span class="p">[</span><span class="nv">safe</span><span class="p">:</span> <span class="o">.</span><span class="n">text</span><span class="p">]</span>
<span class="k">let</span> <span class="nv">text</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span> <span class="o">=</span> <span class="kt">Lobster</span><span class="o">.</span><span class="n">shared</span><span class="p">[</span><span class="nv">safeConfig</span><span class="p">:</span> <span class="o">.</span><span class="n">text</span><span class="p">]</span>
<span class="k">let</span> <span class="nv">text</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span> <span class="o">=</span> <span class="kt">Lobster</span><span class="o">.</span><span class="n">shared</span><span class="p">[</span><span class="nv">safeDefault</span><span class="p">:</span> <span class="o">.</span><span class="n">text</span><span class="p">]</span>
</code></pre>

<ul>
<li>Optional</li>
</ul>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">ConfigKeys</span> <span class="p">{</span>
    <span class="kd">static</span> <span class="k">let</span> <span class="nv">textOptional</span> <span class="o">=</span> <span class="kt">ConfigKey</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">?</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"text_optional"</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">let</span> <span class="nv">text</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span> <span class="o">=</span> <span class="kt">Lobster</span><span class="o">.</span><span class="n">shared</span><span class="p">[</span><span class="o">.</span><span class="n">textOptional</span><span class="p">]</span>
<span class="k">let</span> <span class="nv">text</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span> <span class="o">=</span> <span class="kt">Lobster</span><span class="o">.</span><span class="n">shared</span><span class="p">[</span><span class="nv">config</span><span class="p">:</span> <span class="o">.</span><span class="n">textOptional</span><span class="p">]</span>
<span class="k">let</span> <span class="nv">text</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span> <span class="o">=</span> <span class="kt">Lobster</span><span class="o">.</span><span class="n">shared</span><span class="p">[</span><span class="k">default</span><span class="p">:</span> <span class="o">.</span><span class="n">textOptional</span><span class="p">]</span>
</code></pre>
<h3 id='set-default-value' class='heading'>Set Default value</h3>

<p>You can set default values using <code>subscripting syntax</code> or plist.</p>
<pre class="highlight swift"><code><span class="c1">// Set default value using `[default:]` syntax.</span>
<span class="kt">Lobster</span><span class="o">.</span><span class="n">shared</span><span class="p">[</span><span class="k">default</span><span class="p">:</span> <span class="o">.</span><span class="n">titleText</span><span class="p">]</span> <span class="o">=</span> <span class="s">"Cart Items"</span>
<span class="kt">Lobster</span><span class="o">.</span><span class="n">shared</span><span class="p">[</span><span class="k">default</span><span class="p">:</span> <span class="o">.</span><span class="n">titleColor</span><span class="p">]</span> <span class="o">=</span> <span class="o">.</span><span class="n">black</span>

<span class="c1">// or load from `defaults.plist`</span>
<span class="kt">Lobster</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">setDefaults</span><span class="p">(</span><span class="nv">fromPlist</span><span class="p">:</span> <span class="s">"defaults"</span><span class="p">)</span>
</code></pre>
<h3 id='set-debug-mode' class='heading'>Set debug mode</h3>
<pre class="highlight swift"><code><span class="c1">// Enable debug mode (development only)</span>
<span class="kt">Lobster</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">debugMode</span> <span class="o">=</span> <span class="kc">true</span>
<span class="kt">Lobster</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">fetchExpirationDuration</span> <span class="o">=</span> <span class="mf">0.0</span>
</code></pre>
<h3 id='isstaled' class='heading'>isStaled</h3>

<p>If you set <code>isStaled</code> to true, Lobster will fetch remote value ignoring <code>fetchExpirationDuration</code>.
<code>isStaled</code> will be set to <code>false</code> after fetched remote value.</p>
<pre class="highlight swift"><code><span class="kt">Lobster</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">fetchExpirationDuration</span> <span class="o">=</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">12</span>

<span class="kt">Lobster</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">isStaled</span> <span class="o">=</span> <span class="kc">true</span>

<span class="c1">// Default expire duration is 12 hours.</span>
<span class="c1">// But if `isStaled` set to true,</span>
<span class="c1">// Lobster fetch values from remote ignoring expire duration.</span>
<span class="kt">Lobster</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">fetch</span><span class="p">()</span>
</code></pre>
<h2 id='supported-types' class='heading'>Supported types</h2>

<p>Lobster supports more types as default followings:</p>

<ul>
<li>String</li>
<li>Int</li>
<li>Float</li>
<li>Double</li>
<li>Bool</li>
<li>Data</li>
<li>URL</li>
<li>enum(String/Int)</li>
<li>Decodable Object</li>
<li>Codable Object</li>
<li>Collection(Array)

<ul>
<li>String</li>
<li>Int</li>
<li>Float</li>
<li>Double</li>
<li>Bool</li>
<li>Data</li>
<li>URL</li>
<li>enum(String/Int)</li>
<li>Decodable Object</li>
<li>Codable Object</li>
</ul></li>
</ul>
<h3 id='todo' class='heading'>TODO</h3>

<ul>
<li>[ ] CGPoint</li>
<li>[ ] CGSize</li>
<li>[ ] CGRect</li>
<li>[ ] Dictionary</li>
</ul>
<h4 id='url' class='heading'>URL</h4>

<p>Supports text: e.g. <code>&quot;https://example.com&quot;</code>.</p>

<p><img src="docs/img2.png" alt=""></p>
<h4 id='uicolor' class='heading'>UIColor</h4>

<p>Supports only HEX string like <code>&quot;#FF00FF&quot;</code>.</p>

<p><img src="docs/img3.png" alt=""></p>
<h4 id='enum' class='heading'>Enum</h4>

<p>supports <code>Int</code> or <code>String</code> rawValue.
It can be used only by adapting <code><a href="Protocols/ConfigSerializable.html">ConfigSerializable</a></code>.
If you want to use other enum, see <strong><em>Use custom value</em></strong>.</p>
<h4 id='decodable-compliant-type' class='heading'>Decodable compliant type</h4>

<p>read only</p>
<h4 id='codable-compliant-type' class='heading'>Codable compliant type</h4>

<p>can set default value / read config value</p>
<h2 id='use-custom-value' class='heading'>Use custom value</h2>

<p>You can easily define custom key in order to get remote value.</p>
<h3 id='ex-1-enum' class='heading'>Ex 1: enum</h3>
<pre class="highlight swift"><code><span class="c1">// Adapt protocol `ConfigSerializable`</span>
<span class="kd">enum</span> <span class="kt">Status</span><span class="p">:</span> <span class="kt">ConfigSerializable</span> <span class="p">{</span>
    <span class="c1">// Define `_config`, `_configArray`(If needed).</span>
    <span class="c1">// Custom ConfigBridge's definition see below.</span>
    <span class="kd">static</span> <span class="k">var</span> <span class="nv">_config</span><span class="p">:</span> <span class="kt">ConfigBridge</span><span class="o">&lt;</span><span class="kt">Status</span><span class="o">&gt;</span> <span class="p">{</span> <span class="k">return</span> <span class="kt">ConfigStatusBridge</span><span class="p">()</span> <span class="p">}</span>
    <span class="kd">static</span> <span class="k">var</span> <span class="nv">_configArray</span><span class="p">:</span> <span class="kt">ConfigBridge</span><span class="o">&lt;</span><span class="p">[</span><span class="kt">Status</span><span class="p">]</span><span class="o">&gt;</span> <span class="p">{</span> <span class="nf">fatalError</span><span class="p">(</span><span class="s">"Not implemented"</span><span class="p">)</span> <span class="p">}</span>

    <span class="k">case</span> <span class="n">unknown</span>
    <span class="k">case</span> <span class="n">active</span>
    <span class="k">case</span> <span class="n">inactive</span>

    <span class="nf">init</span><span class="p">(</span><span class="nv">value</span><span class="p">:</span> <span class="kt">String</span><span class="p">?)</span> <span class="p">{</span>
        <span class="k">guard</span> <span class="k">let</span> <span class="nv">value</span> <span class="o">=</span> <span class="n">value</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">self</span> <span class="o">=</span> <span class="o">.</span><span class="n">unknown</span>
            <span class="k">return</span>
        <span class="p">}</span>
        <span class="k">switch</span> <span class="n">value</span> <span class="p">{</span>
        <span class="k">case</span> <span class="s">"active"</span><span class="p">:</span> <span class="k">self</span> <span class="o">=</span> <span class="o">.</span><span class="n">active</span>
        <span class="k">case</span> <span class="s">"inactive"</span><span class="p">:</span> <span class="k">self</span> <span class="o">=</span> <span class="o">.</span><span class="n">inactive</span>
        <span class="k">default</span><span class="p">:</span> <span class="k">self</span> <span class="o">=</span> <span class="o">.</span><span class="n">unknown</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">var</span> <span class="nv">value</span><span class="p">:</span> <span class="kt">String</span> <span class="p">{</span>
        <span class="k">switch</span> <span class="k">self</span> <span class="p">{</span>
        <span class="k">case</span> <span class="o">.</span><span class="nv">active</span><span class="p">:</span> <span class="k">return</span> <span class="s">"active"</span>
        <span class="k">case</span> <span class="o">.</span><span class="nv">inactive</span><span class="p">:</span> <span class="k">return</span> <span class="s">"inactive"</span>
        <span class="k">default</span><span class="p">:</span> <span class="k">return</span> <span class="s">""</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Define Bridge class</span>
<span class="kd">final</span> <span class="kd">class</span> <span class="kt">ConfigStatusBridge</span><span class="p">:</span> <span class="kt">ConfigBridge</span><span class="o">&lt;</span><span class="kt">Status</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="kd">typealias</span> <span class="kt">T</span> <span class="o">=</span> <span class="kt">Status</span>

    <span class="c1">// Save value to default store</span>
    <span class="k">override</span> <span class="kd">func</span> <span class="nf">save</span><span class="p">(</span><span class="nv">key</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">value</span><span class="p">:</span> <span class="kt">T</span><span class="p">?,</span> <span class="n">defaultsStore</span><span class="p">:</span> <span class="kt">DefaultsStore</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">defaultsStore</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span><span class="p">?</span><span class="o">.</span><span class="n">value</span>
    <span class="p">}</span>

    <span class="c1">// Get value from RemoteConfig</span>
    <span class="k">override</span> <span class="kd">func</span> <span class="nf">get</span><span class="p">(</span><span class="nv">key</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">remoteConfig</span><span class="p">:</span> <span class="kt">RemoteConfig</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">T</span><span class="p">?</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">remoteConfig</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">stringValue</span><span class="o">.</span><span class="nf">flatMap</span><span class="p">(</span><span class="kt">Status</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">value</span><span class="p">:))</span>
    <span class="p">}</span>

    <span class="c1">// Get value from default store</span>
    <span class="k">override</span> <span class="kd">func</span> <span class="nf">get</span><span class="p">(</span><span class="nv">key</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="n">defaultsStore</span><span class="p">:</span> <span class="kt">DefaultsStore</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">T</span><span class="p">?</span> <span class="p">{</span>
        <span class="nf">return</span> <span class="p">(</span><span class="n">defaultsStore</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="k">as?</span> <span class="kt">String</span><span class="p">)</span><span class="o">.</span><span class="nf">flatMap</span><span class="p">(</span><span class="kt">Status</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">value</span><span class="p">:))</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Define ConfigKey</span>
<span class="kd">extension</span> <span class="kt">ConfigKeys</span> <span class="p">{</span>
    <span class="kd">static</span> <span class="k">let</span> <span class="nv">status</span> <span class="o">=</span> <span class="kt">ConfigKey</span><span class="o">&lt;</span><span class="kt">Status</span><span class="o">&gt;</span>
<span class="p">}</span>

<span class="c1">// Set default</span>
<span class="kt">Lobster</span><span class="o">.</span><span class="n">shared</span><span class="p">[</span><span class="k">default</span><span class="p">:</span> <span class="o">.</span><span class="n">status</span><span class="p">]</span> <span class="o">=</span> <span class="o">.</span><span class="n">inactive</span>

<span class="c1">// Use value</span>
<span class="kt">Lobster</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">fetch</span> <span class="p">{</span> <span class="n">_</span> <span class="k">in</span>
    <span class="k">let</span> <span class="nv">currentStatus</span> <span class="o">=</span> <span class="kt">Lobster</span><span class="o">.</span><span class="n">shared</span><span class="p">[</span><span class="o">.</span><span class="n">status</span><span class="p">]</span>
<span class="p">}</span>
</code></pre>

<p>To define subscript makes it possible to access custom enum.</p>
<h3 id='ex-2-decodable-compliant-type' class='heading'>Ex 2: Decodable compliant type</h3>

<p>Just adapt <code>Decodable</code> or <code>Codable</code> to class or struct and adapt <code><a href="Protocols/ConfigSerializable.html">ConfigSerializable</a></code></p>
<pre class="highlight swift"><code><span class="kd">struct</span> <span class="kt">Person</span><span class="p">:</span> <span class="kt">Codable</span><span class="p">,</span> <span class="kt">ConfigSerializable</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">name</span><span class="p">:</span> <span class="kt">String</span>
    <span class="k">let</span> <span class="nv">age</span><span class="p">:</span> <span class="kt">Int</span>
    <span class="k">let</span> <span class="nv">country</span><span class="p">:</span> <span class="kt">String</span>
<span class="p">}</span>

<span class="kd">extension</span> <span class="kt">ConfigKeys</span> <span class="p">{</span>
    <span class="kd">static</span> <span class="k">let</span> <span class="nv">person</span> <span class="o">=</span> <span class="kt">CodableConfigKey</span><span class="o">&lt;</span><span class="kt">Person</span><span class="o">&gt;</span><span class="p">(</span><span class="s">"person"</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>

<p>Define config value like below in console:</p>

<p><img src="docs/img5.png" alt=""></p>
<h2 id='demo' class='heading'>Demo</h2>

<p>Required: CocoaPods 1.5 or higher.</p>
<pre class="highlight shell"><code><span class="nv">$ </span><span class="nb">cd </span>path/to/Lobster
<span class="nv">$ </span>bundle <span class="nb">install</span>
<span class="nv">$ </span><span class="nb">cd</span> ./Demo
<span class="nv">$ </span>bundle <span class="nb">exec </span>pod <span class="nb">install</span>
<span class="nv">$ </span>open Demo.xcworkspace
</code></pre>
<h2 id='requirements' class='heading'>Requirements</h2>

<ul>
<li>iOS 11.0+</li>
<li>Xcode 10+</li>
<li>Swift 5.0</li>
</ul>
<h2 id='installation' class='heading'>Installation</h2>
<h3 id='cocoapods' class='heading'>CocoaPods</h3>

<p><strong>Lobster</strong> is available through <a href="http://cocoapods.org">CocoaPods</a>. To install
it, simply add the following line to your Podfile:</p>
<pre class="highlight ruby"><code><span class="c1"># Firebase iOS SDK v6.3.0 or higher</span>
<span class="n">pod</span> <span class="s1">'Lobster'</span><span class="p">,</span> <span class="s1">'~&gt; 2.2'</span>
<span class="c1"># Firebase iOS SDK v5.x ~ v6.2.0</span>
<span class="n">pod</span> <span class="s1">'Lobster'</span><span class="p">,</span> <span class="s1">'~&gt; 2.1'</span>
</code></pre>

<p>and run <code>pod install</code></p>
<h3 id='manually-install' class='heading'>Manually Install</h3>

<p>Download all <code>*.swift</code> files and put your project.</p>
<h2 id='special-thanks' class='heading'>Special Thanks</h2>

<p>Lobster is inspired by <a href="https://github.com/radex/SwiftyUserDefaults">SwiftyUserDefaults</a></p>
<h2 id='communication' class='heading'>Communication</h2>

<ul>
<li>If you found a bug, open an issue.</li>
<li>If you have a feature request, open an issue.</li>
<li>If you want to contribute, submit a pull request.:muscle:</li>
</ul>
<h2 id='license' class='heading'>License</h2>

<p><strong>Lobster</strong> is under MIT license. See the <a href="LICENSE">LICENSE</a> file for more info.</p>

          </div>
        </section>


      </article>
    </div>
    <section class="footer">
      <p>&copy; 2020 <a class="link" href="https://github.com/sgr-ksmt" target="_blank" rel="external">Suguru Kishimoto</a>. All rights reserved. (Last updated: 2020-08-09)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.5</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
